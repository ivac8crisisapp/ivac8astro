import"./compat.module.9eab33f5.js";import{a,s as e,f,d as S,b as A,c as C,o as k,e as V}from"./styles.module.5779e99b.js";import{h as n,p as B}from"./hooks.module.92440ed3.js";import{k as I}from"./preact.module.dd969365.js";function J(){const[b,y]=n([]);n(""),n([]),n(!1),n("");const[c,N]=n(""),[o,g]=n(""),[s,E]=n(""),[l,m]=n(!1),u=()=>{m(!l)},D=t=>{if(t.preventDefault(),!c||!s||!o){alert("Please fill in all fields");return}const i=f.firestore(),r=S(i,"evacuation",c);A(r,{timestamp:V(),Evacuation:c,Capacity:o,Location:s}),alert("Form submitted successfully"),m(!l)},p=new Date;return`${p.getDate()}`,p.getMonth()+1,B(()=>{(async()=>{const i=f.firestore(),r=C(i,"evacuation");C(i,"sample","crisis","Samuel","evacBldg","Sta Justa");try{k(r,d=>{const h=[];d.forEach(v=>{const{Crisis:T,Evacuation:L,Capacity:x,Location:F}=v.data();h.push({id:v.id,Evacuation:L,Capacity:x,Location:F})}),y(h),console.log(h)})}catch(d){console.error("Error fetching data:",d)}})()},[]),a(I,{children:a("div",{children:[a("div",{className:e.headerContainer,children:[a("h1",{className:e.titleHeader,children:" Evacuation Centers"}),a("button",{className:e.titleButton,onClick:u,children:" NEW +"})]}),l&&a("div",{className:e.modalContain,children:a("form",{onSubmit:D,className:e.modalForm,children:[a("div",{className:e.inputContain,children:[a("label",{htmlFor:"text",children:" Name"}),a("input",{type:"text",onChange:t=>N(t.target.value),id:"evacName",value:c})]}),a("div",{className:e.inputContain,children:[a("label",{htmlFor:"text",children:" Capacity"}),a("input",{type:"number",onChange:t=>g(t.target.value),id:"evacCapacity",value:o})]}),a("div",{className:e.inputContain,children:[a("label",{htmlFor:"text",children:" Location"}),a("input",{type:"text",onChange:t=>E(t.target.value),id:"evacLocation",value:s})]}),a("button",{type:"submit",children:"ADD EVACUATION"}),a("a",{onClick:u,children:" Close "})]})}),a("table",{className:e.itemData,children:[a("tr",{children:[a("th",{children:" Name "}),a("th",{children:" Capacity "}),a("th",{children:" Location "})]}),b.map(t=>a("tr",{children:[a("td",{children:["  ",t.Evacuation,"  "]}),a("td",{children:["  ",t.Capacity,"  "]}),a("td",{children:["  ",t.Location,"  "]})]},t.id))]})]})})}export{J as default};
