import"./compat.module.9eab33f5.js";import{a as s,s as t,f as m,c as d,g as h,d as p,b,o as k,e as n}from"./styles.module.5779e99b.js";import{h as r,p as S}from"./hooks.module.92440ed3.js";import{k as x}from"./preact.module.dd969365.js";function B(){r([]);const[v,N]=r("");r([]),r(!1);const[e,D]=r(""),[l,C]=r(!1),u=()=>{C(!l)},g=()=>{const i=m.firestore(),c=d(i,"crisis","activeCrisis","activeCrisisCollection");h(c,{timestamp:n(),Crisis:e});const a=p(i,"crisis","activeCrisis","activeCrisisCollection",e+"_collection");b(a,{timestamp:n(),Crisis:e})},y=i=>{if(i.preventDefault(),!e){alert("Please fill in all fields");return}const c=m.firestore(),a=p(c,"crisis","activeCrisis");b(a,{timestamp:n(),Crisis:e});const o=d(c,"crisis","crisisDoc","crisisList");h(o,{timestamp:n(),Crisis:e}),alert("Form submitted successfully"),C(!l)},f=new Date;`${f.getDate()}`,f.getMonth()+1;const R=async()=>{const i=m.firestore(),c=d(i,"crisis");k(c,a=>{if(a.empty)console.log("No matching documents");else{const o=a.docs[0].data();N(o.Crisis),console.log(o.Crisis)}})};return S(()=>{R()},[]),s(x,{children:s("div",{children:[s("div",{className:t.headerContainerCrisis,children:[s("h1",{className:t.titleHeader,children:["Current Crisis:",s("p",{children:[v,"  "]})]}),s("button",{className:t.titleButtonCrisis,onClick:u,children:" NEW +"})]}),s("button",{className:t.titleButtonCrisis,onClick:g,children:" NEW!"}),l&&s("div",{className:t.modalContain,children:s("form",{onSubmit:y,className:t.modalForm,children:[s("div",{className:t.inputContain,children:[s("label",{htmlFor:"text",children:" Name"}),s("input",{type:"text",onChange:i=>D(i.target.value),id:"crisisName",value:e})]}),s("button",{type:"submit",children:"ADD CRISIS"}),s("a",{onClick:u,children:" Close "})]})})]})})}export{B as default};
